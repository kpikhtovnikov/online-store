{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useContext,useEffect}from'react';import{Container}from\"react-bootstrap\";import Row from\"react-bootstrap/Row\";import Col from\"react-bootstrap/Col\";import TypeBar from\"../components/TypeBar\";import BrandBar from\"../components/BrandBar\";import DeviceList from\"../components/DeviceList\";import{observer}from\"mobx-react-lite\";import{Context}from\"../index\";import{fetchBrands,fetchDevices,fetchTypes}from\"../http/deviceAPI\";import Pages from\"../components/Pages\";var Shop=observer(function(){var _useContext=useContext(Context),device=_useContext.device;useEffect(function(){fetchTypes().then(function(data){return device.setTypes(data);});fetchBrands().then(function(data){return device.setBrands(data);});fetchDevices(null,null,1,2).then(function(data){device.setDevices(data.rows);device.setTotalCount(data.count);});},[]);useEffect(function(){fetchDevices(device.selectedType.id,device.selectedBrand.id,device.page,2).then(function(data){device.setDevices(data.rows);device.setTotalCount(data.count);});},[device.page,device.selectedType,device.selectedBrand]);return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Row,{className:\"mt-2\",children:[/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsx(TypeBar,{})}),/*#__PURE__*/_jsxs(Col,{md:9,children:[/*#__PURE__*/_jsx(BrandBar,{}),/*#__PURE__*/_jsx(DeviceList,{}),/*#__PURE__*/_jsx(Pages,{})]})]})});});export default Shop;","map":{"version":3,"sources":["/home/kirill/online-store/client/src/pages/Shop.js"],"names":["React","useContext","useEffect","Container","Row","Col","TypeBar","BrandBar","DeviceList","observer","Context","fetchBrands","fetchDevices","fetchTypes","Pages","Shop","device","then","data","setTypes","setBrands","setDevices","rows","setTotalCount","count","selectedType","id","selectedBrand","page"],"mappings":"wFAAA,MAAOA,CAAAA,KAAP,EAAeC,UAAf,CAA2BC,SAA3B,KAA2C,OAA3C,CACA,OAAQC,SAAR,KAAwB,iBAAxB,CACA,MAAOC,CAAAA,GAAP,KAAgB,qBAAhB,CACA,MAAOC,CAAAA,GAAP,KAAgB,qBAAhB,CACA,MAAOC,CAAAA,OAAP,KAAoB,uBAApB,CACA,MAAOC,CAAAA,QAAP,KAAqB,wBAArB,CACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,CACA,OAAQC,QAAR,KAAuB,iBAAvB,CACA,OAAQC,OAAR,KAAsB,UAAtB,CACA,OAAQC,WAAR,CAAqBC,YAArB,CAAmCC,UAAnC,KAAoD,mBAApD,CACA,MAAOC,CAAAA,KAAP,KAAkB,qBAAlB,CAEA,GAAMC,CAAAA,IAAI,CAAGN,QAAQ,CAAC,UAAM,iBACPR,UAAU,CAACS,OAAD,CADH,CACjBM,MADiB,aACjBA,MADiB,CAGxBd,SAAS,CAAC,UAAM,CACZW,UAAU,GAAGI,IAAb,CAAkB,SAAAC,IAAI,QAAIF,CAAAA,MAAM,CAACG,QAAP,CAAgBD,IAAhB,CAAJ,EAAtB,EACAP,WAAW,GAAGM,IAAd,CAAmB,SAAAC,IAAI,QAAIF,CAAAA,MAAM,CAACI,SAAP,CAAiBF,IAAjB,CAAJ,EAAvB,EACAN,YAAY,CAAC,IAAD,CAAO,IAAP,CAAa,CAAb,CAAgB,CAAhB,CAAZ,CAA+BK,IAA/B,CAAoC,SAAAC,IAAI,CAAI,CACxCF,MAAM,CAACK,UAAP,CAAkBH,IAAI,CAACI,IAAvB,EACAN,MAAM,CAACO,aAAP,CAAqBL,IAAI,CAACM,KAA1B,EACH,CAHD,EAIH,CAPQ,CAON,EAPM,CAAT,CASAtB,SAAS,CAAC,UAAM,CACZU,YAAY,CAACI,MAAM,CAACS,YAAP,CAAoBC,EAArB,CAAyBV,MAAM,CAACW,aAAP,CAAqBD,EAA9C,CAAkDV,MAAM,CAACY,IAAzD,CAA+D,CAA/D,CAAZ,CAA8EX,IAA9E,CAAmF,SAAAC,IAAI,CAAI,CACvFF,MAAM,CAACK,UAAP,CAAkBH,IAAI,CAACI,IAAvB,EACAN,MAAM,CAACO,aAAP,CAAqBL,IAAI,CAACM,KAA1B,EACH,CAHD,EAIH,CALQ,CAKN,CAACR,MAAM,CAACY,IAAR,CAAcZ,MAAM,CAACS,YAArB,CAAmCT,MAAM,CAACW,aAA1C,CALM,CAAT,CAOA,mBACI,KAAC,SAAD,wBACI,MAAC,GAAD,EAAK,SAAS,CAAC,MAAf,wBACI,KAAC,GAAD,EAAK,EAAE,CAAE,CAAT,uBACI,KAAC,OAAD,IADJ,EADJ,cAII,MAAC,GAAD,EAAK,EAAE,CAAE,CAAT,wBACI,KAAC,QAAD,IADJ,cAEI,KAAC,UAAD,IAFJ,cAGI,KAAC,KAAD,IAHJ,GAJJ,GADJ,EADJ,CAcH,CAjCoB,CAArB,CAmCA,cAAeZ,CAAAA,IAAf","sourcesContent":["import React, {useContext, useEffect} from 'react';\nimport {Container} from \"react-bootstrap\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport TypeBar from \"../components/TypeBar\";\nimport BrandBar from \"../components/BrandBar\";\nimport DeviceList from \"../components/DeviceList\";\nimport {observer} from \"mobx-react-lite\";\nimport {Context} from \"../index\";\nimport {fetchBrands, fetchDevices, fetchTypes} from \"../http/deviceAPI\";\nimport Pages from \"../components/Pages\";\n\nconst Shop = observer(() => {\n    const {device} = useContext(Context)\n\n    useEffect(() => {\n        fetchTypes().then(data => device.setTypes(data))\n        fetchBrands().then(data => device.setBrands(data))\n        fetchDevices(null, null, 1, 2).then(data => {\n            device.setDevices(data.rows)\n            device.setTotalCount(data.count)\n        })\n    }, [])\n\n    useEffect(() => {\n        fetchDevices(device.selectedType.id, device.selectedBrand.id, device.page, 2).then(data => {\n            device.setDevices(data.rows)\n            device.setTotalCount(data.count)\n        })\n    }, [device.page, device.selectedType, device.selectedBrand,])\n\n    return (\n        <Container>\n            <Row className=\"mt-2\">\n                <Col md={3}>\n                    <TypeBar/>\n                </Col>\n                <Col md={9}>\n                    <BrandBar/>\n                    <DeviceList/>\n                    <Pages/>\n                </Col>\n            </Row>\n        </Container>\n    );\n});\n\nexport default Shop;\n"]},"metadata":{},"sourceType":"module"}